<div id="checkout-view" class="container">
  <!-- Show if there are not items in cart -->
  <div ng-show="!items">
    <p>
      You do not have any items in your cart. Would you like to <a ng-href="/shop">shop for some?</a>
    </p>
  </div>
  <!-- Show login options if not logged in -->
  <div ng-show="!user.firstName">
    <div>
      <p>
        You are checking out as a guest
      </p>
      <p>
        If you would like to create an account <a ng-href="/signup">sign up</a>
      </p>
      <p>
        Or if you already have an account <a ng-href="/login">log in</a>
      </p>
    </div>
  </div>
    
  <!-- Just welcome message if logged in -->
  <div ng-show="user.firstName">
    <p>
      Welcome {{user.name}}. This is your cart
    </p>
  </div>
  
  <site-checkout-cart></site-checkout-cart>

  <!-- Address and payment form -->
  <div>
    <form stripe-form="process">
      <!-- TODO: Show the address form if not logged in-->
      <div>
        <p>
          Shipping Details
        </p>
        <label>First Name<input type="text" ng-model="shippingDetails.firstName"></input></label>
        <label>Last Name<input type="text" ng-model="shippingDetails.lastName"></input></label>
        <label>Address<input type="text" ng-model="shippingDetails.address1"></input></label>
        <label>Address (cont'd)<input type="text" ng-model="shippingDetails.address2"></input></label>        
        <label>City<input type="text" ng-model="shippingDetails.city"></input></label>
        <label>State<input type="text" ng-model="shippingDetails.state"></input></label>
        <label>Zip<input type="text" ng-model="shippingDetails.zip"></input></label>
        <label>Email<input type="email" ng-model="shippingDetails.email"></input></label>
        <label>Telephone Number<input type="tel" ng-model="shippingDetails.telephone"></input><span class="form-optional">Optional</span></label>
      </div>
      
      <!-- Financial Details -->
      <div>
        <p>
          Payment Details
        </p>

        <p class="payment-errors"></p>

        <div class="form-row">
          <label><span>Card Number</span><input type="text" size="20" data-stripe="number"></label>
        </div>
        
        <div class="form-row">
          <label><span>CVC</span><input type="text" size="4" data-stripe="cvc"></label>
        </div>
        
        <div class="form-row">
          <label><span>Expiration (MM)</span><input type="text" size="2" data-stripe="exp-month"></label> 
          <label><span>(YYYY)</span><input type="text" size="4" data-stripe="exp-year"></label>
        </div>

      </div>
      <button type="submit">Pay</button>            
    </form>
  </div>
  
</div>

